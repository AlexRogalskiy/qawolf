import Link from "next/link";

import Header from "../../components/Docs/Header";
import Image from "../../components/Docs/Image";
import Layout from "../../components/Docs/Layout";
import SubHeader from "../../components/Docs/SubHeader";

<Layout>

<Header>Run on Netlify Deployment</Header>

In this tutorial, we'll set up our tests to run on <a href="https://www.netlify.com/" target="_blank">Netlify</a> deployments. This helps ensure our critical workflows don't break when we make changes.

Specifically, we'll run our tests whenever a <a href="https://www.netlify.com/blog/2016/07/20/introducing-deploy-previews-in-netlify/" target="_blank">Netlify Deploy Preview</a> succeeds in a <a href="https://github.com/" target="_blank">GitHub</a> pull request. If you have a different workflow, please <Link href="community">reach out for help</Link>.

<SubHeader>Install GitHub App</SubHeader>

The first step is to install the QA Wolf GitHub App on the repository (repo) you want to test.

Make sure you are on your <a href="https://qawolf.com/tests" target="_blank">test dashboard</a>. Open the trigger dropdown and click on the button to "Add GitHub repo".

<Image
  alt="Add GitHub repo"
  height={278}
  src="/docs/run-on-netlify-deployment/add-github-repo.png"
  width={300}
/>

You will be redirected to GitHub and asked to choose the repo(s) you want QA Wolf to access.

<Image
  alt="Install GitHub App"
  height={528}
  src="/docs/run-on-netlify-deployment/install-github-app.png"
  width={400}
/>

Choose the repo(s) you want to test and click the green "Install" button. After the installation succeeds, you will be redirected back to QA Wolf.

<SubHeader>Trigger Tests on Netlify Deployment</SubHeader>

<SubHeader>Conclusion</SubHeader>

Now that our tests run on Netlify deployments, let's <Link href="send-slack-alerts">alert our team</Link> when they fail.

</Layout>
